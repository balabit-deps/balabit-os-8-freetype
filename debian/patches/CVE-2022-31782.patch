Backport of:

From 3541af5e7805a4d897b8a1b199eb5037b9f1a477 Mon Sep 17 00:00:00 2001
From: Alexei Podtelezhnikov <apodtele@gmail.com>
Date: Tue, 24 May 2022 18:24:18 +0000
Subject: [PATCH] * src/ftbench.c (main): Check the number of glyphs.

Fixes #8.
---
 src/ftbench.c | 3 +++
 1 file changed, 3 insertions(+)

--- a/ft2demos/src/ftbench.c
+++ b/ft2demos/src/ftbench.c
@@ -1137,6 +1137,9 @@
     if ( get_face( &face ) )
       goto Exit;
 
+    if ( !face->num_glyphs )
+      goto Exit;
+
     if ( last_index >= (unsigned int)face->num_glyphs )
       last_index = (unsigned int)face->num_glyphs - 1;
     if ( last_index < first_index )
